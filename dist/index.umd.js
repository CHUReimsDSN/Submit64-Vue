(function(f,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("quasar")):typeof define=="function"&&define.amd?define(["exports","vue","quasar"],e):(f=typeof globalThis<"u"?globalThis:f||self,e(f["submit64-vue"]={},f.Vue,f.Quasar))})(this,function(f,e,s){"use strict";var Ie=Object.defineProperty;var Pe=(f,e,s)=>e in f?Ie(f,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):f[e]=s;var g=(f,e,s)=>Pe(f,typeof e!="symbol"?e+"":e,s);const k=class k{constructor(){g(this,"_formSettings");g(this,"_formStyleConfig");g(this,"_actionComponent");g(this,"_sectionComponent");g(this,"_wrapperResetComponent")}static registerGlobalFormSetting(t){this._instance._formSettings=t}static registerGlobalFormStyleSetting(t){this._instance._formStyleConfig=t}static registerGlobalActionComponent(t){this._instance._actionComponent=t}static registerGlobalSectionComponent(t){this._instance._sectionComponent=t}static registerGlobalWrapperResetComponent(t){this._instance._wrapperResetComponent=t}static getGlobalFormSetting(){return this._instance._formSettings}static getGlobalFormStyleConfig(){return this._instance._formStyleConfig}static getGlobalActionComponent(){return this._instance._actionComponent}static getGlobalSectionComponent(){return this._instance._sectionComponent}static getGlobalWrapperResetComponent(){return this._instance._wrapperResetComponent}};g(k,"_instance",new k);let _=k;const $=Symbol();function q(l,t){console.log(l);const n=[],o=[];return l.forEach(a=>{switch(a.type){case"required":n.push(w());break;case"absence":n.push(z());break;case"acceptance":n.push(j());break;case"inclusion":const i=a;n.push(E(i.including));break;case"exclusion":const r=a;n.push(L(r.excluding));break;case"backend":n.push(w());break;case"allowNull":o.push("allowNull");break;case"allowBlank":o.push("allowBlank");break;case"positiveNumber":n.push(G());break;case"lessThanOrEqualNumber":const d=a;if(d.less_than){n.push(Q(()=>d.less_than));break}case"lessThanNumber":const c=a;if(c.less_than){n.push(H(()=>c.less_than));break}case"greaterThanOrEqualNumber":const m=a;if(m.greater_than){n.push(A(()=>m.greater_than));break}case"greaterThanNumber":const p=a;if(p.greater_than){n.push(Y(()=>p.greater_than));break}case"equalToNumber":const F=a;if(F.equal_to){n.push(J(()=>F.equal_to));break}case"otherThanNumber":const D=a;if(D.other_than){n.push(K(()=>D.other_than));break}case"numberIntegerOnly":n.push(M());break;case"numberNumericOnly":n.push(U());break;case"numberEvenOnly":n.push(X());break;case"numberOddOnly":n.push(Z());break;case"lessThanOrEqualStringLength":const N=a;if(N.less_than){n.push(W(()=>N.less_than));break}case"lessThanStringLength":const T=a;if(T.less_than){n.push(v(()=>T.less_than));break}case"greaterThanOrEqualStringLength":const V=a;if(V.greater_than){n.push(ee(()=>V.greater_than));break}case"greaterThanStringLength":const x=a;if(x.greater_than){n.push(te(()=>x.greater_than));break}case"equalToString":const u=a;if(u.equal_to){n.push(oe(()=>u.equal_to));break}case"betweenStringLength":const h=a;n.push(ne(()=>h.min,()=>h.max));break;case"equalToStringLength":const C=a;n.push(le(()=>C.equal_to));break;case"otherThanString":const R=a;n.push(re(()=>R.other_than));break;case"lessThanOrEqualDate":const B=a;n.push(y(t.dateFormat)),n.push(ae(()=>B.less_than,t.dateFormat));break;case"lessThanDate":const O=a;n.push(y(t.dateFormat)),n.push(ie(()=>O.less_than,t.dateFormat));break;case"greaterThanOrEqualDate":const qe=a;n.push(y(t.dateFormat)),n.push(se(()=>qe.greater_than,t.dateFormat));break;case"greaterThanDate":const Le=a;n.push(y(t.dateFormat)),n.push(ce(()=>Le.greater_than,t.dateFormat));break;case"equalToDate":const ze=a;n.push(y(t.dateFormat)),n.push(de(()=>ze.equal_to,t.dateFormat));break;case"otherThanDate":const je=a;n.push(y(t.dateFormat)),n.push(ue(()=>je.other_than,t.dateFormat));break}}),o.length>0?o.map(a=>{switch(a){case"allowBlank":return P(n);case"allowNull":return I(n)}}):n}function w(){return l=>!!l||"Ce champ est requis"}function E(l){return t=>l.includes(String(t))||`Doit être contenu dans ${l.toString()}`}function L(l){return t=>!l.includes(String(t)||`Ne doit pas être contenu dans ${E.toString()}`)}function z(){return l=>!l||"Ce champ doit être vide"}function j(){return l=>!!l||"Doit être accepté"}function I(l){return t=>(t===null||l.forEach(n=>{const o=n(t);if(o!==!0)return o}),!0)}function P(l){return t=>(t===""||l.forEach(n=>{const o=n(t);if(o!==!0)return o}),!0)}function G(){return l=>Number(l)>0||"Val. positive uniquement"}function Q(l){return t=>{const n=l();return Number(t)<=n||`Inf. ou égal à ${n}`}}function H(l){return t=>{const n=l();return Number(t)<n||`Inf. ${n}`}}function A(l){return t=>{const n=l();return Number(t)>=n||`Sup. ou égal à ${n}`}}function Y(l){return t=>{const n=l();return Number(t)>n||`Sup. à ${n}`}}function J(l,t){const n=l();return o=>Number(o)===n||`Égale à ${n}`}function K(l,t){const n=l();return o=>Number(o)!==n||`Doit être différent de ${l}`}function M(){return l=>/^-?\d+$/.test(String(l).trim())||"Nombre entier uniquement"}function U(){return l=>/^-?\d+(\.\d+)?$/.test(String(l).trim())||"Caractère numérique uniquement"}function X(){return l=>Number.isInteger(Number(l))&&Number(l)%2===0||"Nombre pair uniquement"}function Z(){return l=>Number.isInteger(Number(l))&&Number(l)%2===1||"Nombre impair uniquement"}function W(l){const t=l();return n=>String(n).length<=t||`Inf. ou égal à ${t}`}function v(l){const t=l();return n=>String(n).length<t||`Inf. à ${t}`}function ee(l){const t=l();return n=>String(n).length>=t||`Sup. ou égal à ${t}`}function te(l){const t=l();return n=>String(n).length>t||`Sup. à ${t}`}function ne(l,t){const n=l(),o=t();return a=>String(a).length>=n&&String(a).length<=o||`Entre ${n} et ${o}`}function oe(l,t){const n=l();return o=>String(o)===n||`Égale à ${n}`}function le(l){const t=l();return n=>String(n).length===t||`Doit contenir ${t} caractères`}function re(l,t){const n=l();return o=>String(o)!==n||`Doit être différent de ${n}`}function ae(l,t){const n=l();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)<=s.date.extractDate(n,t)||`Inf. ou égal à ${s.date.formatDate(n,t)}`}function ie(l,t){const n=l();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)<s.date.extractDate(n,t)||`Inf. à ${s.date.formatDate(n,t)}`}function se(l,t){const n=l();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)>=s.date.extractDate(n,t)||`Sup. ou égal à ${s.date.formatDate(n,t)}`}function ce(l,t){const n=l();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)>s.date.extractDate(n,t)||`Sup. à ${s.date.formatDate(n,t)}`}function de(l,t,n){const o=l();return a=>s.date.extractDate(String(a),t)===s.date.extractDate(o,t)||`Égale à ${s.date.extractDate(o,t)}`}function ue(l,t,n){const o=l();return a=>s.date.extractDate(String(a),t)!==s.date.extractDate(o,t)||`Doit être différent de ${o}`}function y(l){return t=>!Number.isNaN(s.date.extractDate(String(t),l).getTime())||"Date invalide"}const fe={computeServerRules:q},b=e.defineComponent({__name:"FieldWrapper",props:{field:{}},setup(l,{expose:t}){const n=l,o=e.inject($),a=e.ref();function i(){return a.value}function r(){o&&(a.value=o.getDefaultDataByFieldName(n.field.metadata.field_name))}function d(){switch(typeof a.value){case"boolean":a.value=!1;case"string":a.value="";case"number":a.value=0;case"object":a.value={}}}function c(){return fe.computeServerRules(n.field.rules??[],o.getFormFactory().formSettings)}return t({reset:r,clear:d,getValue:i}),e.onMounted(()=>{var p;r();const m=(p=e.getCurrentInstance())==null?void 0:p.proxy;m&&o&&o.registerRef(n.field.metadata.field_name,m)}),(m,p)=>(e.openBlock(),e.createElementBlock("div",null,[n.field.resetable?e.renderSlot(m.$slots,"reset",{key:0,actionProps:{reset:r}},()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(o).getFormFactory().wrapperResetComponent),{reset:r}))]):e.createCommentVNode("",!0),e.renderSlot(m.$slots,"default",{propsWrapper:{modelValue:a.value,field:m.field,injectForm:e.unref(o),reset:r,clear:d,getComputedRules:c}})]))}}),me=e.defineComponent({__name:"StringField",props:{field:{}},setup(l){const t=l;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,r=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:r.fieldOutlined,filled:r.fieldFilled,standout:r.fieldStandout,borderless:r.fieldBorderless,rounded:r.fieldRounded,square:r.fieldSquare,dense:r.fieldDense,hideBottomSpace:r.fieldHideBottomSpace,color:r.fieldColor,bgColor:r.fieldBgColor,class:o.field.cssClass}}return(o,a)=>(e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:i})=>[e.createVNode(e.unref(s.QInput),e.normalizeProps(e.guardReactiveProps(n(i))),null,16)]),_:1},8,["field"]))}}),ge=e.defineComponent({__name:"TextField",props:{field:{}},setup(l){const t=l;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,r=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:r.fieldOutlined,filled:r.fieldFilled,standout:r.fieldStandout,borderless:r.fieldBorderless,rounded:r.fieldRounded,square:r.fieldSquare,dense:r.fieldDense,hideBottomSpace:r.fieldHideBottomSpace,color:r.fieldColor,bgColor:r.fieldBgColor,class:o.field.cssClass}}return(o,a)=>(e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:i})=>[e.createVNode(e.unref(s.QInput),e.mergeProps(n(i),{type:"textarea"}),null,16)]),_:1},8,["field"]))}}),he={class:"row items-center justify-end"},be=e.defineComponent({__name:"DateField",props:{field:{}},setup(l){const t=l;function n(i){const r=i.injectForm.getFormFactory(),d=r.formSettings,c=r.formStyleConfig;return{modelValue:i.modelValue,lazyRules:d.rulesBehaviour==="lazy",clearable:i.field.clearable,rules:i.getComputedRules(),onClear:i.clear,label:i.field.label,hint:i.field.hint,outlined:c.fieldOutlined,filled:c.fieldFilled,standout:c.fieldStandout,borderless:c.fieldBorderless,rounded:c.fieldRounded,square:c.fieldSquare,dense:c.fieldDense,hideBottomSpace:c.fieldHideBottomSpace,color:c.fieldColor,bgColor:c.fieldBgColor,class:i.field.cssClass}}function o(i){return{size:"sm",color:"primary",name:"event",class:"cursor-pointer"}}function a(i){return{modelValue:i.modelValue,mask:i.injectForm.getFormFactory().formSettings.dateFormat}}return(i,r)=>{const d=e.resolveDirective("close-popup");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:c})=>[e.createVNode(e.unref(s.QInput),e.normalizeProps(e.guardReactiveProps(n(c))),{append:e.withCtx(()=>[e.createVNode(e.unref(s.QIcon),e.normalizeProps(e.guardReactiveProps(o())),{default:e.withCtx(()=>[e.createVNode(e.unref(s.QPopupProxy),{cover:"","transition-show":"scale","transition-hide":"scale"},{default:e.withCtx(()=>[e.createVNode(e.unref(s.QDate),e.normalizeProps(e.guardReactiveProps(a(c))),{default:e.withCtx(()=>[e.createElementVNode("div",he,[e.withDirectives(e.createVNode(e.unref(s.QBtn),{label:"Fermer",color:"secondary",flat:"","no-caps":""},null,512),[[d]])])]),_:2},1040)]),_:2},1024)]),_:2},1040)]),_:2},1040)]),_:1},8,["field"])}}}),Ce=e.defineComponent({__name:"CheckboxField",props:{field:{}},setup(l){const t=l;function n(o){const a=o.injectForm.getFormFactory().formStyleConfig;return{modelValue:o.modelValue,label:o.field.label,dense:a.fieldDense,color:a.fieldColor,class:o.field.cssClass}}return(o,a)=>(e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:i})=>[e.createVNode(e.unref(s.QCheckbox),e.normalizeProps(e.guardReactiveProps(n(i))),null,16)]),_:1},8,["field"]))}}),_e={class:"flex row items-center"},Se={class:"text-body1 text-weight-medium"},pe={class:"flex column q-gutter-sm"},Be=e.defineComponent({__name:"DefaultSectionComponent",props:{section:{}},setup(l){const t=l;return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["flex column",t.section.cssClass])},[e.createElementVNode("div",_e,[t.section.icon?(e.openBlock(),e.createBlock(e.unref(s.QIcon),{key:0,name:t.section.icon,size:"sm"},null,8,["name"])):e.createCommentVNode("",!0),e.createElementVNode("div",Se,e.toDisplayString(t.section.label),1)]),e.createElementVNode("div",pe,[e.renderSlot(n.$slots,"default")])],2))}}),ye={class:"flex row items-center no-wrap"},Fe=e.defineComponent({__name:"DefaultActionComponent",props:{isLoadingSubmit:{type:Boolean},reset:{type:Function},clear:{type:Function},submit:{type:Function}},setup(l){const t=l;return(n,o)=>(e.openBlock(),e.createElementBlock("div",ye,[e.createVNode(e.unref(s.QBtn),{label:"Enregistrer",loading:t.isLoadingSubmit,onClick:t.submit},null,8,["loading","onClick"]),t.reset?(e.openBlock(),e.createBlock(e.unref(s.QBtn),{key:0,loading:t.isLoadingSubmit,label:"Réinitialiser",onClick:t.reset},null,8,["loading","onClick"])):e.createCommentVNode("",!0),t.clear?(e.openBlock(),e.createBlock(e.unref(s.QBtn),{key:1,loading:t.isLoadingSubmit,label:"Vider",onClick:t.clear},null,8,["loading","onClick"])):e.createCommentVNode("",!0)]))}}),ke=e.defineComponent({__name:"NumberField",props:{field:{}},setup(l){const t=l;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,r=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:r.fieldOutlined,filled:r.fieldFilled,standout:r.fieldStandout,borderless:r.fieldBorderless,rounded:r.fieldRounded,square:r.fieldSquare,dense:r.fieldDense,hideBottomSpace:r.fieldHideBottomSpace,color:r.fieldColor,bgColor:r.fieldBgColor,class:o.field.cssClass}}return(o,a)=>(e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:i})=>[e.createVNode(e.unref(s.QInput),e.mergeProps(n(i),{type:"number"}),null,16)]),_:1},8,["field"]))}}),De=e.defineComponent({__name:"SelectHasManyField",props:{field:{}},setup(l){const t=l;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,r=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),multiple:!0,useChips:!0,mapOptions:!0,emitValue:!0,options:[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:r.fieldOutlined,filled:r.fieldFilled,standout:r.fieldStandout,borderless:r.fieldBorderless,rounded:r.fieldRounded,square:r.fieldSquare,dense:r.fieldDense,hideBottomSpace:r.fieldHideBottomSpace,color:r.fieldColor,bgColor:r.fieldBgColor,class:o.field.cssClass}}return(o,a)=>(e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:i})=>[e.createVNode(e.unref(s.QSelect),e.normalizeProps(e.guardReactiveProps(n(i))),null,16)]),_:1},8,["field"]))}}),Ne=(l,t)=>{const n=l.__vccOpts||l;for(const[o,a]of t)n[o]=a;return n},Te={};function Ve(l,t){return" TODO json edit ? "}const xe=Ne(Te,[["render",Ve]]),Re=e.defineComponent({__name:"SelectField",props:{field:{}},setup(l){const t=l;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,r=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),mapOptions:!0,emitValue:!0,options:o.field.selectOptions||[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:r.fieldOutlined,filled:r.fieldFilled,standout:r.fieldStandout,borderless:r.fieldBorderless,rounded:r.fieldRounded,square:r.fieldSquare,dense:r.fieldDense,hideBottomSpace:r.fieldHideBottomSpace,color:r.fieldColor,bgColor:r.fieldBgColor,class:o.field.cssClass}}return(o,a)=>(e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:i})=>[e.createVNode(e.unref(s.QSelect),e.normalizeProps(e.guardReactiveProps(n(i))),null,16)]),_:1},8,["field"]))}}),Oe=e.defineComponent({__name:"SelectBelongsToField",props:{field:{}},setup(l){const t=l;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,r=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),mapOptions:!0,emitValue:!0,options:[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:r.fieldOutlined,filled:r.fieldFilled,standout:r.fieldStandout,borderless:r.fieldBorderless,rounded:r.fieldRounded,square:r.fieldSquare,dense:r.fieldDense,hideBottomSpace:r.fieldHideBottomSpace,color:r.fieldColor,bgColor:r.fieldBgColor,class:o.field.cssClass}}return(o,a)=>(e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:i})=>[e.createVNode(e.unref(s.QSelect),e.normalizeProps(e.guardReactiveProps(n(i))),null,16)]),_:1},8,["field"]))}}),$e=e.defineComponent({__name:"DefaultWrapperResetComponent",props:{reset:{type:Function}},setup(l){const t=l;return(n,o)=>{const a=e.resolveComponent("q-icon");return e.openBlock(),e.createBlock(a,{name:"reset",class:"cursor-pointer",onClick:o[0]||(o[0]=i=>t.reset())})}}});class S{constructor(t,n,o,a,i,r){g(this,"resourceName");g(this,"formSettings");g(this,"formStyleConfig");g(this,"actionComponent");g(this,"sectionComponent");g(this,"wrapperResetComponent");this.resourceName=t,this.formSettings={...S.getDefaultFormSettings(),..._.getGlobalFormSetting(),...n},this.formStyleConfig={...S.getDefaultFormStyleSettings(),..._.getGlobalFormStyleConfig(),...o},this.actionComponent=a??_.getGlobalActionComponent()??S.getDefaultActionComponent(),this.sectionComponent=i??_.getGlobalSectionComponent()??S.getDefaultSectionComponent(),this.wrapperResetComponent=r??_.getGlobalWrapperResetComponent()??S.getDefaultWrapperResetComponent()}static getFieldComponentByFormFieldType(t){return{string:me,text:ge,number:ke,date:be,selectString:Re,selectBelongsTo:Oe,selectHasMany:De,checkbox:Ce,object:xe}[t]}static getDefaultFormSettings(){return{rulesBehaviour:"lazy",dateFormat:"DD/MM/YYYY",datetimeFormat:"DD/MM/YYYY:HHmm",renderBackendHint:!0}}static getDefaultFormStyleSettings(){return{fieldOutlined:!0,fieldDense:!0,fieldHideBottomSpace:!0,fieldFilled:!1,fieldStandout:!1,fieldBorderless:!1,fieldRounded:!1,fieldSquare:!1,fieldClass:"",fieldColor:"primary",fieldBgColor:"white"}}static getDefaultActionComponent(){return Fe}static getDefaultSectionComponent(){return Be}static getDefaultWrapperResetComponent(){return $e}getAllField(t){const n=[];return t.form.sections.forEach(a=>{const i=[];a.fields.forEach(d=>{const c=S.getFieldComponentByFormFieldType(d.form_field_type),m={type:d.form_field_type,metadata:d,label:d.form_label,hint:d.form_hint,cssClass:d.form_css_class,selectOptions:d.form_select_options,rules:d.form_rules,clearable:d.clearable,resetable:d.resetable,component:c};i.push(m)});const r={label:a.label,fields:i};n.push(r)}),{sections:n,resetable:t.form.resetable,clearable:t.form.clearable,hasGlobalCustomValidation:t.form.has_global_custom_validation??!1}}}const we={key:0,class:"flex column q-pa-sm q-gutter-sm"},Ee=e.defineComponent({__name:"Submit64Form",props:{resourceName:{},resourceId:{},getMetadataAndData:{},submitForm:{},globalFormSettings:{},context:{}},setup(l,{expose:t}){const n=l;let o=null;const a=Object.freeze(new S(n.resourceName,n.globalFormSettings)),i=e.ref({}),r=e.ref(),d=e.ref(!1),c=e.ref(!1);async function m(){o=await n.getMetadataAndData({resourceName:n.resourceName,resourceId:n.resourceId,context:n.context}),r.value=Object.freeze(a.getAllField(o)),d.value=!0}async function p(){c.value=!0;const u={};Object.entries(i.value).forEach(C=>{u[C[0]]=C[1].getValue()});const h=await n.submitForm({formData:u});o&&(o.resource_data=h),F(),c.value=!1}function F(){Object.values(i.value).forEach(u=>{u.reset()})}function D(){Object.values(i.value).forEach(u=>{u.clear()})}function N(u,h){i.value[u]=h}function T(u){if(o)return o.resource_data[u]}function V(u){const h=Object.entries(i.value).find(C=>C[0]===u);return h?h[1].getValue():null}function x(){return a}return e.provide($,{registerRef:N,getDefaultDataByFieldName:T,getFieldDataByFieldName:V,getFormFactory:x}),t({}),e.onMounted(async()=>{await m()}),(u,h)=>d.value&&r.value?(e.openBlock(),e.createElementBlock("div",we,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(r.value.sections,(C,R)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(a).sectionComponent),{key:R,section:C},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.fields,B=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:B.metadata.field_name},[u.$slots[B.metadata.field_name]?(e.openBlock(),e.createBlock(b,{key:1,field:B},{default:e.withCtx(({propsWrapper:O})=>[e.renderSlot(u.$slots,"default",{propsWrapper:O})]),_:2},1032,["field"])):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(B.component),{key:0,field:B},null,8,["field"]))],64))),128))]),_:2},1032,["section"]))),128)),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(a).actionComponent),{isLoadingSubmit:c.value,submit:p,clear:r.value.clearable?D:void 0,reset:r.value.resetable?F:void 0},null,8,["isLoadingSubmit","clear","reset"])),u.$slots.more_actions?e.renderSlot(u.$slots,"more_actions",{key:0,propsForm:{generatedForm:r.value}}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)}});f.Submit64=_,f.Submit64Form=Ee,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
