(function(m,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("quasar")):typeof define=="function"&&define.amd?define(["exports","vue","quasar"],e):(m=typeof globalThis<"u"?globalThis:m||self,e(m["submit64-vue"]={},m.Vue,m.Quasar))})(this,function(m,e,s){"use strict";var Ge=Object.defineProperty;var Pe=(m,e,s)=>e in m?Ge(m,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):m[e]=s;var g=(m,e,s)=>Pe(m,typeof e!="symbol"?e+"":e,s);const N=class N{constructor(){g(this,"_formSettings");g(this,"_formStyleConfig");g(this,"_actionComponent");g(this,"_sectionComponent");g(this,"_wrapperResetComponent")}static registerGlobalFormSetting(t){this._instance._formSettings=t}static registerGlobalFormStyleSetting(t){this._instance._formStyleConfig=t}static registerGlobalActionComponent(t){this._instance._actionComponent=t}static registerGlobalSectionComponent(t){this._instance._sectionComponent=t}static registerGlobalWrapperResetComponent(t){this._instance._wrapperResetComponent=t}static getGlobalFormSetting(){return this._instance._formSettings}static getGlobalFormStyleConfig(){return this._instance._formStyleConfig}static getGlobalActionComponent(){return this._instance._actionComponent}static getGlobalSectionComponent(){return this._instance._sectionComponent}static getGlobalWrapperResetComponent(){return this._instance._wrapperResetComponent}};g(N,"_instance",new N);let p=N;const O=Symbol();function E(r,t){const n=[],o=[];return r.forEach(a=>{switch(a.type){case"required":n.push($());break;case"absence":n.push(z());break;case"acceptance":n.push(j());break;case"inclusion":const i=a;n.push(w(i.including));break;case"exclusion":const l=a;n.push(L(l.excluding));break;case"backend":n.push($());break;case"allowNull":o.push("allowNull");break;case"allowBlank":o.push("allowBlank");break;case"positiveNumber":n.push(I());break;case"lessThanOrEqualNumber":const c=a;if(c.less_than){n.push(H(()=>c.less_than));break}case"lessThanNumber":const d=a;if(d.less_than){n.push(A(()=>d.less_than));break}case"greaterThanOrEqualNumber":const f=a;if(f.greater_than){n.push(Y(()=>f.greater_than));break}case"greaterThanNumber":const h=a;if(h.greater_than){n.push(Q(()=>h.greater_than));break}case"equalToNumber":const y=a;if(y.equal_to){n.push(J(()=>y.equal_to));break}case"otherThanNumber":const D=a;if(D.other_than){n.push(K(()=>D.other_than));break}case"numberIntegerOnly":n.push(M());break;case"numberNumericOnly":n.push(U());break;case"numberEvenOnly":n.push(X());break;case"numberOddOnly":n.push(Z());break;case"lessThanOrEqualStringLength":const B=a;if(B.less_than){n.push(W(()=>B.less_than));break}case"lessThanStringLength":const T=a;if(T.less_than){n.push(v(()=>T.less_than));break}case"greaterThanOrEqualStringLength":const q=a;if(q.greater_than){n.push(ee(()=>q.greater_than));break}case"greaterThanStringLength":const V=a;if(V.greater_than){n.push(te(()=>V.greater_than));break}case"equalToString":const u=a;if(u.equal_to){n.push(oe(()=>u.equal_to));break}case"betweenStringLength":const _=a;n.push(ne(()=>_.min,()=>_.max));break;case"equalToStringLength":const C=a;n.push(le(()=>C.equal_to));break;case"otherThanString":const x=a;n.push(re(()=>x.other_than));break;case"lessThanOrEqualDate":const k=a;n.push(F(t.dateFormat)),n.push(ae(()=>k.less_than,t.dateFormat));break;case"lessThanDate":const R=a;n.push(F(t.dateFormat)),n.push(ie(()=>R.less_than,t.dateFormat));break;case"greaterThanOrEqualDate":const Ee=a;n.push(F(t.dateFormat)),n.push(se(()=>Ee.greater_than,t.dateFormat));break;case"greaterThanDate":const Le=a;n.push(F(t.dateFormat)),n.push(ce(()=>Le.greater_than,t.dateFormat));break;case"equalToDate":const ze=a;n.push(F(t.dateFormat)),n.push(de(()=>ze.equal_to,t.dateFormat));break;case"otherThanDate":const je=a;n.push(F(t.dateFormat)),n.push(ue(()=>je.other_than,t.dateFormat));break}}),o.length>0?o.map(a=>{switch(a){case"allowBlank":return P(n);case"allowNull":return G(n)}}):n}function $(){return r=>!!r||"Ce champ est requis"}function w(r){return t=>r.includes(String(t))||`Doit être contenu dans ${r.toString()}`}function L(r){return t=>!r.includes(String(t)||`Ne doit pas être contenu dans ${w.toString()}`)}function z(){return r=>!r||"Ce champ doit être vide"}function j(){return r=>!!r||"Doit être accepté"}function G(r){return t=>(t===null||r.forEach(n=>{const o=n(t);if(o!==!0)return o}),!0)}function P(r){return t=>(t===""||r.forEach(n=>{const o=n(t);if(o!==!0)return o}),!0)}function I(){return r=>Number(r)>0||"Val. positive uniquement"}function H(r){return t=>{const n=r();return Number(t)<=n||`Inf. ou égal à ${n}`}}function A(r){return t=>{const n=r();return Number(t)<n||`Inf. ${n}`}}function Y(r){return t=>{const n=r();return Number(t)>=n||`Sup. ou égal à ${n}`}}function Q(r){return t=>{const n=r();return Number(t)>n||`Sup. à ${n}`}}function J(r,t){const n=r();return o=>Number(o)===n||`Égale à ${n}`}function K(r,t){const n=r();return o=>Number(o)!==n||`Doit être différent de ${r}`}function M(){return r=>/^-?\d+$/.test(String(r).trim())||"Nombre entier uniquement"}function U(){return r=>/^-?\d+(\.\d+)?$/.test(String(r).trim())||"Caractère numérique uniquement"}function X(){return r=>Number.isInteger(Number(r))&&Number(r)%2===0||"Nombre pair uniquement"}function Z(){return r=>Number.isInteger(Number(r))&&Number(r)%2===1||"Nombre impair uniquement"}function W(r){const t=r();return n=>String(n).length<=t||`Inf. ou égal à ${t}`}function v(r){const t=r();return n=>String(n).length<t||`Inf. à ${t}`}function ee(r){const t=r();return n=>String(n).length>=t||`Sup. ou égal à ${t}`}function te(r){const t=r();return n=>String(n).length>t||`Sup. à ${t}`}function ne(r,t){const n=r(),o=t();return a=>String(a).length>=n&&String(a).length<=o||`Entre ${n} et ${o}`}function oe(r,t){const n=r();return o=>String(o)===n||`Égale à ${n}`}function le(r){const t=r();return n=>String(n).length===t||`Doit contenir ${t} caractères`}function re(r,t){const n=r();return o=>String(o)!==n||`Doit être différent de ${n}`}function ae(r,t){const n=r();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)<=s.date.extractDate(n,t)||`Inf. ou égal à ${s.date.formatDate(n,t)}`}function ie(r,t){const n=r();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)<s.date.extractDate(n,t)||`Inf. à ${s.date.formatDate(n,t)}`}function se(r,t){const n=r();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)>=s.date.extractDate(n,t)||`Sup. ou égal à ${s.date.formatDate(n,t)}`}function ce(r,t){const n=r();return o=>!Number.isNaN(s.date.extractDate(String(o),t).getTime())&&s.date.extractDate(String(o),t)>s.date.extractDate(n,t)||`Sup. à ${s.date.formatDate(n,t)}`}function de(r,t,n){const o=r();return a=>s.date.extractDate(String(a),t)===s.date.extractDate(o,t)||`Égale à ${s.date.extractDate(o,t)}`}function ue(r,t,n){const o=r();return a=>s.date.extractDate(String(a),t)!==s.date.extractDate(o,t)||`Doit être différent de ${o}`}function F(r){return t=>!Number.isNaN(s.date.extractDate(String(t),r).getTime())||"Date invalide"}const me={computeServerRules:E},b=e.defineComponent({__name:"FieldWrapper",props:{field:{}},setup(r,{expose:t}){const n=r,o=e.inject(O),a=e.ref();function i(){return a.value}function l(){o&&(a.value=o.getDefaultDataByFieldName(n.field.metadata.field_name))}function c(){switch(typeof a.value){case"boolean":a.value=!1;case"string":a.value="";case"number":a.value=0;case"object":a.value={}}}function d(){return me.computeServerRules(n.field.rules??[],o.getFormFactory().formSettings)}return t({reset:l,clear:c,getValue:i}),e.onMounted(()=>{var h;l();const f=(h=e.getCurrentInstance())==null?void 0:h.proxy;f&&o&&o.registerRef(n.field.metadata.field_name,f)}),(f,h)=>(e.openBlock(),e.createElementBlock("div",null,[n.field.resetable?e.renderSlot(f.$slots,"reset",{key:0,actionProps:{reset:l}},()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(o).getFormFactory().wrapperResetComponent),{reset:l}))]):e.createCommentVNode("",!0),e.renderSlot(f.$slots,"default",{propsWrapper:{modelValue:a.value,field:f.field,injectForm:e.unref(o),reset:l,clear:c,getComputedRules:d}})]))}}),fe=e.defineComponent({__name:"StringField",props:{field:{}},setup(r){const t=r;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,l=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:l.fieldOutlined,filled:l.fieldFilled,standout:l.fieldStandout,borderless:l.fieldBorderless,rounded:l.fieldRounded,square:l.fieldSquare,dense:l.fieldDense,hideBottomSpace:l.fieldHideBottomSpace,color:l.fieldColor,bgColor:l.fieldBgColor,class:o.field.cssClass}}return(o,a)=>{const i=e.resolveComponent("q-input");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:l})=>[e.createVNode(i,e.normalizeProps(e.guardReactiveProps(n(l))),null,16)]),_:1},8,["field"])}}}),ge=e.defineComponent({__name:"TextField",props:{field:{}},setup(r){const t=r;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,l=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:l.fieldOutlined,filled:l.fieldFilled,standout:l.fieldStandout,borderless:l.fieldBorderless,rounded:l.fieldRounded,square:l.fieldSquare,dense:l.fieldDense,hideBottomSpace:l.fieldHideBottomSpace,color:l.fieldColor,bgColor:l.fieldBgColor,class:o.field.cssClass}}return(o,a)=>{const i=e.resolveComponent("q-input");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:l})=>[e.createVNode(i,e.mergeProps(n(l),{type:"textarea"}),null,16)]),_:1},8,["field"])}}}),he={class:"row items-center justify-end"},_e=e.defineComponent({__name:"DateField",props:{field:{}},setup(r){const t=r;function n(i){const l=i.injectForm.getFormFactory(),c=l.formSettings,d=l.formStyleConfig;return{modelValue:i.modelValue,lazyRules:c.rulesBehaviour==="lazy",clearable:i.field.clearable,rules:i.getComputedRules(),onClear:i.clear,label:i.field.label,hint:i.field.hint,outlined:d.fieldOutlined,filled:d.fieldFilled,standout:d.fieldStandout,borderless:d.fieldBorderless,rounded:d.fieldRounded,square:d.fieldSquare,dense:d.fieldDense,hideBottomSpace:d.fieldHideBottomSpace,color:d.fieldColor,bgColor:d.fieldBgColor,class:i.field.cssClass}}function o(i){return{size:"sm",color:"primary",name:"event",class:"cursor-pointer"}}function a(i){return{modelValue:i.modelValue,mask:i.injectForm.getFormSettings().dateFormat}}return(i,l)=>{const c=e.resolveComponent("q-btn"),d=e.resolveComponent("q-date"),f=e.resolveComponent("q-popup-proxy"),h=e.resolveComponent("q-icon"),y=e.resolveComponent("q-input"),D=e.resolveDirective("close-popup");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:B})=>[e.createVNode(y,e.normalizeProps(e.guardReactiveProps(n(B))),{append:e.withCtx(()=>[e.createVNode(h,e.normalizeProps(e.guardReactiveProps(o())),{default:e.withCtx(()=>[e.createVNode(f,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:e.withCtx(()=>[e.createVNode(d,e.normalizeProps(e.guardReactiveProps(a(B))),{default:e.withCtx(()=>[e.createElementVNode("div",he,[e.withDirectives(e.createVNode(c,{label:"Fermer",color:"secondary",flat:"","no-caps":""},null,512),[[D]])])]),_:2},1040)]),_:2},1024)]),_:2},1040)]),_:2},1040)]),_:1},8,["field"])}}}),be=e.defineComponent({__name:"CheckboxField",props:{field:{}},setup(r){const t=r;function n(o){const a=o.injectForm.getFormFactory().formStyleConfig;return{modelValue:o.modelValue,label:o.field.label,dense:a.fieldDense,color:a.fieldColor,class:o.field.cssClass}}return(o,a)=>{const i=e.resolveComponent("q-checkbox");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:l})=>[e.createVNode(i,e.normalizeProps(e.guardReactiveProps(n(l))),null,16)]),_:1},8,["field"])}}}),Ce={class:"flex row items-center"},pe={class:"text-body1 text-weight-medium"},Se={class:"flex column q-gutter-sm"},ye=e.defineComponent({__name:"DefaultSectionComponent",props:{section:{}},setup(r){const t=r;return(n,o)=>{const a=e.resolveComponent("q-icon");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["flex column",t.section.cssClass])},[e.createElementVNode("div",Ce,[t.section.icon?(e.openBlock(),e.createBlock(a,{key:0,name:t.section.icon,size:"sm"},null,8,["name"])):e.createCommentVNode("",!0),e.createElementVNode("div",pe,e.toDisplayString(t.section.label),1)]),e.createElementVNode("div",Se,[e.renderSlot(n.$slots,"default")])],2)}}}),Be={class:"flex row items-center no-wrap"},ke=e.defineComponent({__name:"DefaultActionComponent",props:{isLoadingSubmit:{type:Boolean},reset:{type:Function},clear:{type:Function},submit:{type:Function}},setup(r){const t=r;return(n,o)=>{const a=e.resolveComponent("q-btn");return e.openBlock(),e.createElementBlock("div",Be,[e.createVNode(a,{label:"Enregistrer",loading:t.isLoadingSubmit,onClick:t.submit},null,8,["loading","onClick"]),t.reset?(e.openBlock(),e.createBlock(a,{key:0,loading:t.isLoadingSubmit,label:"Réinitialiser",onClick:t.reset},null,8,["loading","onClick"])):e.createCommentVNode("",!0),t.clear?(e.openBlock(),e.createBlock(a,{key:1,loading:t.isLoadingSubmit,label:"Vider",onClick:t.clear},null,8,["loading","onClick"])):e.createCommentVNode("",!0)])}}}),Fe=e.defineComponent({__name:"NumberField",props:{field:{}},setup(r){const t=r;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,l=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:l.fieldOutlined,filled:l.fieldFilled,standout:l.fieldStandout,borderless:l.fieldBorderless,rounded:l.fieldRounded,square:l.fieldSquare,dense:l.fieldDense,hideBottomSpace:l.fieldHideBottomSpace,color:l.fieldColor,bgColor:l.fieldBgColor,class:o.field.cssClass}}return(o,a)=>{const i=e.resolveComponent("q-input");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:l})=>[e.createVNode(i,e.mergeProps(n(l),{type:"number"}),null,16)]),_:1},8,["field"])}}}),De=e.defineComponent({__name:"SelectHasManyField",props:{field:{}},setup(r){const t=r;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,l=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),multiple:!0,useChips:!0,mapOptions:!0,emitValue:!0,options:[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:l.fieldOutlined,filled:l.fieldFilled,standout:l.fieldStandout,borderless:l.fieldBorderless,rounded:l.fieldRounded,square:l.fieldSquare,dense:l.fieldDense,hideBottomSpace:l.fieldHideBottomSpace,color:l.fieldColor,bgColor:l.fieldBgColor,class:o.field.cssClass}}return(o,a)=>{const i=e.resolveComponent("q-select");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:l})=>[e.createVNode(i,e.normalizeProps(e.guardReactiveProps(n(l))),null,16)]),_:1},8,["field"])}}}),Ne=(r,t)=>{const n=r.__vccOpts||r;for(const[o,a]of t)n[o]=a;return n},Te={};function qe(r,t){return" TODO json edit ? "}const Ve=Ne(Te,[["render",qe]]),xe=e.defineComponent({__name:"SelectField",props:{field:{}},setup(r){const t=r;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,l=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),mapOptions:!0,emitValue:!0,options:o.field.selectOptions||[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:l.fieldOutlined,filled:l.fieldFilled,standout:l.fieldStandout,borderless:l.fieldBorderless,rounded:l.fieldRounded,square:l.fieldSquare,dense:l.fieldDense,hideBottomSpace:l.fieldHideBottomSpace,color:l.fieldColor,bgColor:l.fieldBgColor,class:o.field.cssClass}}return(o,a)=>{const i=e.resolveComponent("q-select");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:l})=>[e.createVNode(i,e.normalizeProps(e.guardReactiveProps(n(l))),null,16)]),_:1},8,["field"])}}}),Re=e.defineComponent({__name:"SelectBelongsToField",props:{field:{}},setup(r){const t=r;function n(o){const a=o.injectForm.getFormFactory(),i=a.formSettings,l=a.formStyleConfig;return{modelValue:o.modelValue,lazyRules:i.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),mapOptions:!0,emitValue:!0,options:[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:l.fieldOutlined,filled:l.fieldFilled,standout:l.fieldStandout,borderless:l.fieldBorderless,rounded:l.fieldRounded,square:l.fieldSquare,dense:l.fieldDense,hideBottomSpace:l.fieldHideBottomSpace,color:l.fieldColor,bgColor:l.fieldBgColor,class:o.field.cssClass}}return(o,a)=>{const i=e.resolveComponent("q-select");return e.openBlock(),e.createBlock(b,{field:t.field},{default:e.withCtx(({propsWrapper:l})=>[e.createVNode(i,e.normalizeProps(e.guardReactiveProps(n(l))),null,16)]),_:1},8,["field"])}}}),Oe=e.defineComponent({__name:"DefaultWrapperResetComponent",props:{reset:{type:Function}},setup(r){const t=r;return(n,o)=>{const a=e.resolveComponent("q-icon");return e.openBlock(),e.createBlock(a,{name:"reset",class:"cursor-pointer",onClick:o[0]||(o[0]=i=>t.reset())})}}});class S{constructor(t,n,o,a,i,l){g(this,"resourceName");g(this,"formSettings");g(this,"formStyleConfig");g(this,"actionComponent");g(this,"sectionComponent");g(this,"wrapperResetComponent");this.resourceName=t,this.formSettings={...S.getDefaultFormSettings(),...p.getGlobalFormSetting(),...n},this.formStyleConfig={...S.getDefaultFormStyleSettings(),...p.getGlobalFormStyleConfig(),...o},this.actionComponent=a??p.getGlobalActionComponent()??S.getDefaultActionComponent(),this.sectionComponent=i??p.getGlobalSectionComponent()??S.getDefaultSectionComponent(),this.wrapperResetComponent=l??p.getGlobalWrapperResetComponent()??S.getDefaultWrapperResetComponent()}static getFieldComponentByFormFieldType(t){return{string:fe,text:ge,number:Fe,date:_e,selectString:xe,selectBelongsTo:Re,selectHasMany:De,checkbox:be,object:Ve}[t]}static getDefaultFormSettings(){return{rulesBehaviour:"lazy",dateFormat:"DD/MM/YYYY",datetimeFormat:"DD/MM/YYYY:HHmm",renderBackendHint:!0}}static getDefaultFormStyleSettings(){return{fieldOutlined:!0,fieldDense:!0,fieldHideBottomSpace:!0,fieldFilled:!1,fieldStandout:!1,fieldBorderless:!1,fieldRounded:!1,fieldSquare:!1,fieldClass:"",fieldColor:"primary",fieldBgColor:"white"}}static getDefaultActionComponent(){return ke}static getDefaultSectionComponent(){return ye}static getDefaultWrapperResetComponent(){return Oe}getAllField(t){const n=[];return t.form.sections.forEach(a=>{const i=[];a.fields.forEach(c=>{const d=S.getFieldComponentByFormFieldType(c.form_field_type),f={type:c.form_field_type,metadata:c,label:c.form_label,hint:c.form_hint,cssClass:c.form_css_class,selectOptions:c.form_select_options,rules:c.form_rules,clearable:c.clearable,resetable:c.resetable,component:d};i.push(f)});const l={label:a.label,fields:i};n.push(l)}),{sections:n,resetable:t.form.resetable,clearable:t.form.clearable,hasGlobalCustomValidation:t.form.has_global_custom_validation??!1}}}const $e={key:0,class:"flex q-pa-sm q-gutter-sm"},we=e.defineComponent({__name:"Submit64Form",props:{resourceName:{},resourceId:{},getMetadataAndData:{},submitForm:{},globalFormSettings:{},context:{}},setup(r,{expose:t}){const n=r;let o=null;const a=Object.freeze(new S(n.resourceName,n.globalFormSettings)),i=e.ref({}),l=e.ref(),c=e.ref(!1),d=e.ref(!1);async function f(){o=await n.getMetadataAndData({resourceName:n.resourceName,resourceId:n.resourceId,context:n.context}),l.value=Object.freeze(a.getAllField(o))}async function h(){d.value=!0;const u={};Object.entries(i.value).forEach(C=>{u[C[0]]=C[1].getValue()});const _=await n.submitForm({formData:u});o&&(o.resource_data=_),y(),d.value=!1}function y(){Object.values(i.value).forEach(u=>{u.reset()})}function D(){Object.values(i.value).forEach(u=>{u.clear()})}function B(u,_){i.value[u]=_}function T(u){if(o)return o.resource_data[u]}function q(u){const _=Object.entries(i.value).find(C=>C[0]===u);return _?_[1].getValue():null}function V(){return a}return e.provide(O,{registerRef:B,getDefaultDataByFieldName:T,getFieldDataByFieldName:q,getFormFactory:V}),t({}),e.onMounted(async()=>{await f()}),(u,_)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createTextVNode(e.toDisplayString(c.value)+" ",1),e.createElementVNode("pre",null,e.toDisplayString(l.value),1),c.value&&l.value?(e.openBlock(),e.createElementBlock("div",$e,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l.value.sections,(C,x)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(a).sectionComponent),{key:x,section:C},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(C.fields,k=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:k.metadata.field_name},[u.$slots[k.metadata.field_name]?(e.openBlock(),e.createBlock(b,{key:1,field:k},{default:e.withCtx(({propsWrapper:R})=>[e.renderSlot(u.$slots,"default",{propsWrapper:R})]),_:2},1032,["field"])):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(k.component),{key:0,field:k},null,8,["field"]))],64))),128))]),_:2},1032,["section"]))),128)),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(a).actionComponent),{isLoadingSubmit:d.value,submit:h,clear:l.value.clearable?D:void 0,reset:l.value.resetable?y:void 0},null,8,["isLoadingSubmit","clear","reset"])),u.$slots.more_actions?e.renderSlot(u.$slots,"more_actions",{key:0,propsForm:{generatedForm:l.value}}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],64))}});m.Submit64=p,m.Submit64Form=we,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});
