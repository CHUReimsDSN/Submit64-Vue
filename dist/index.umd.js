(function(f,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("quasar")):typeof define=="function"&&define.amd?define(["exports","vue","quasar"],e):(f=typeof globalThis<"u"?globalThis:f||self,e(f["submit64-vue"]={},f.Vue,f.Quasar))})(this,function(f,e,i){"use strict";var je=Object.defineProperty;var Ie=(f,e,i)=>e in f?je(f,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):f[e]=i;var h=(f,e,i)=>Ie(f,typeof e!="symbol"?e+"":e,i);const F=class F{constructor(){h(this,"_formSettings");h(this,"_formStyleConfig");h(this,"_actionComponent");h(this,"_sectionComponent");h(this,"_wrapperResetComponent")}static registerGlobalFormSetting(t){this._instance._formSettings=t}static registerGlobalFormStyleSetting(t){this._instance._formStyleConfig=t}static registerGlobalActionComponent(t){this._instance._actionComponent=t}static registerGlobalSectionComponent(t){this._instance._sectionComponent=t}static registerGlobalWrapperResetComponent(t){this._instance._wrapperResetComponent=t}static getGlobalFormSetting(){return this._instance._formSettings}static getGlobalFormStyleConfig(){return this._instance._formStyleConfig}static getGlobalActionComponent(){return this._instance._actionComponent}static getGlobalSectionComponent(){return this._instance._sectionComponent}static getGlobalWrapperResetComponent(){return this._instance._wrapperResetComponent}};h(F,"_instance",new F);let p=F;const $=Symbol();function q(l,t){const n=[],o=[];return l.forEach(r=>{switch(r.type){case"required":n.push(w());break;case"absence":n.push(z());break;case"acceptance":n.push(P());break;case"inclusion":const s=r;n.push(E(s.including));break;case"exclusion":const a=r;n.push(L(a.excluding));break;case"backend":n.push(w());break;case"allowNull":o.push("allowNull");break;case"allowBlank":o.push("allowBlank");break;case"positiveNumber":n.push(G());break;case"lessThanOrEqualNumber":const c=r;if(c.less_than){n.push(Q(()=>c.less_than));break}case"lessThanNumber":const m=r;if(m.less_than){n.push(H(()=>m.less_than));break}case"greaterThanOrEqualNumber":const g=r;if(g.greater_than){n.push(A(()=>g.greater_than));break}case"greaterThanNumber":const d=r;if(d.greater_than){n.push(Y(()=>d.greater_than));break}case"equalToNumber":const _=r;if(_.equal_to){n.push(U(()=>_.equal_to));break}case"otherThanNumber":const D=r;if(D.other_than){n.push(J(()=>D.other_than));break}case"numberIntegerOnly":n.push(K());break;case"numberNumericOnly":n.push(M());break;case"numberEvenOnly":n.push(X());break;case"numberOddOnly":n.push(Z());break;case"lessThanOrEqualStringLength":const N=r;if(N.less_than){n.push(W(()=>N.less_than));break}case"lessThanStringLength":const T=r;if(T.less_than){n.push(v(()=>T.less_than));break}case"greaterThanOrEqualStringLength":const V=r;if(V.greater_than){n.push(ee(()=>V.greater_than));break}case"greaterThanStringLength":const x=r;if(x.greater_than){n.push(te(()=>x.greater_than));break}case"equalToString":const u=r;if(u.equal_to){n.push(oe(()=>u.equal_to));break}case"betweenStringLength":const b=r;n.push(ne(()=>b.min,()=>b.max));break;case"equalToStringLength":const S=r;n.push(le(()=>S.equal_to));break;case"otherThanString":const R=r;n.push(re(()=>R.other_than));break;case"lessThanOrEqualDate":const B=r;n.push(k(t.dateFormat)),n.push(ae(()=>B.less_than,t.dateFormat));break;case"lessThanDate":const O=r;n.push(k(t.dateFormat)),n.push(ie(()=>O.less_than,t.dateFormat));break;case"greaterThanOrEqualDate":const qe=r;n.push(k(t.dateFormat)),n.push(se(()=>qe.greater_than,t.dateFormat));break;case"greaterThanDate":const Le=r;n.push(k(t.dateFormat)),n.push(ce(()=>Le.greater_than,t.dateFormat));break;case"equalToDate":const ze=r;n.push(k(t.dateFormat)),n.push(de(()=>ze.equal_to,t.dateFormat));break;case"otherThanDate":const Pe=r;n.push(k(t.dateFormat)),n.push(ue(()=>Pe.other_than,t.dateFormat));break}}),o.length>0?o.map(r=>{switch(r){case"allowBlank":return I(n);case"allowNull":return j(n)}}):n}function w(){return l=>!!l||"Ce champ est requis"}function E(l){return t=>l.includes(String(t))||`Doit être contenu dans ${l.toString()}`}function L(l){return t=>!l.includes(String(t)||`Ne doit pas être contenu dans ${E.toString()}`)}function z(){return l=>!l||"Ce champ doit être vide"}function P(){return l=>!!l||"Doit être accepté"}function j(l){return t=>(t===null||l.forEach(n=>{const o=n(t);if(o!==!0)return o}),!0)}function I(l){return t=>(t===""||l.forEach(n=>{const o=n(t);if(o!==!0)return o}),!0)}function G(){return l=>Number(l)>0||"Val. positive uniquement"}function Q(l){return t=>{const n=l();return Number(t)<=n||`Inf. ou égal à ${n}`}}function H(l){return t=>{const n=l();return Number(t)<n||`Inf. ${n}`}}function A(l){return t=>{const n=l();return Number(t)>=n||`Sup. ou égal à ${n}`}}function Y(l){return t=>{const n=l();return Number(t)>n||`Sup. à ${n}`}}function U(l,t){const n=l();return o=>Number(o)===n||`Égale à ${n}`}function J(l,t){const n=l();return o=>Number(o)!==n||`Doit être différent de ${l}`}function K(){return l=>/^-?\d+$/.test(String(l).trim())||"Nombre entier uniquement"}function M(){return l=>/^-?\d+(\.\d+)?$/.test(String(l).trim())||"Caractère numérique uniquement"}function X(){return l=>Number.isInteger(Number(l))&&Number(l)%2===0||"Nombre pair uniquement"}function Z(){return l=>Number.isInteger(Number(l))&&Number(l)%2===1||"Nombre impair uniquement"}function W(l){const t=l();return n=>String(n).length<=t||`Inf. ou égal à ${t}`}function v(l){const t=l();return n=>String(n).length<t||`Inf. à ${t}`}function ee(l){const t=l();return n=>String(n).length>=t||`Sup. ou égal à ${t}`}function te(l){const t=l();return n=>String(n).length>t||`Sup. à ${t}`}function ne(l,t){const n=l(),o=t();return r=>String(r).length>=n&&String(r).length<=o||`Entre ${n} et ${o}`}function oe(l,t){const n=l();return o=>String(o)===n||`Égale à ${n}`}function le(l){const t=l();return n=>String(n).length===t||`Doit contenir ${t} caractères`}function re(l,t){const n=l();return o=>String(o)!==n||`Doit être différent de ${n}`}function ae(l,t){const n=l();return o=>!Number.isNaN(i.date.extractDate(String(o),t).getTime())&&i.date.extractDate(String(o),t)<=i.date.extractDate(n,t)||`Inf. ou égal à ${i.date.formatDate(n,t)}`}function ie(l,t){const n=l();return o=>!Number.isNaN(i.date.extractDate(String(o),t).getTime())&&i.date.extractDate(String(o),t)<i.date.extractDate(n,t)||`Inf. à ${i.date.formatDate(n,t)}`}function se(l,t){const n=l();return o=>!Number.isNaN(i.date.extractDate(String(o),t).getTime())&&i.date.extractDate(String(o),t)>=i.date.extractDate(n,t)||`Sup. ou égal à ${i.date.formatDate(n,t)}`}function ce(l,t){const n=l();return o=>!Number.isNaN(i.date.extractDate(String(o),t).getTime())&&i.date.extractDate(String(o),t)>i.date.extractDate(n,t)||`Sup. à ${i.date.formatDate(n,t)}`}function de(l,t,n){const o=l();return r=>i.date.extractDate(String(r),t)===i.date.extractDate(o,t)||`Égale à ${i.date.extractDate(o,t)}`}function ue(l,t,n){const o=l();return r=>i.date.extractDate(String(r),t)!==i.date.extractDate(o,t)||`Doit être différent de ${o}`}function k(l){return t=>!Number.isNaN(i.date.extractDate(String(t),l).getTime())||"Date invalide"}const fe={computeServerRules:q},C=e.defineComponent({__name:"FieldWrapper",props:{field:{}},setup(l,{expose:t}){const n=l,o=e.inject($),r=e.ref();function s(){return r.value}function a(){o&&(r.value=o.getDefaultDataByFieldName(n.field.metadata.field_name))}function c(){switch(typeof r.value){case"boolean":r.value=!1;case"string":r.value="";case"number":r.value=0;case"object":r.value={}}}function m(){return fe.computeServerRules(n.field.rules??[],o.getFormFactory().formSettings)}function g(d){r.value=d}return t({reset:a,clear:c,getValue:s}),e.onMounted(()=>{var _;a();const d=(_=e.getCurrentInstance())==null?void 0:_.proxy;d&&o&&o.registerRef(n.field.metadata.field_name,d)}),(d,_)=>(e.openBlock(),e.createElementBlock("div",null,[n.field.resetable?e.renderSlot(d.$slots,"reset",{key:0,actionProps:{reset:a}},()=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(o).getFormFactory().wrapperResetComponent),{reset:a}))]):e.createCommentVNode("",!0),e.renderSlot(d.$slots,"default",{propsWrapper:{modelValue:r.value,modelValueOnUpdate:g,field:d.field,injectForm:e.unref(o),reset:a,clear:c,getComputedRules:m}})]))}}),me=e.defineComponent({__name:"StringField",props:{field:{}},setup(l){const t=l;function n(o){const r=o.injectForm.getFormFactory(),s=r.formSettings,a=r.formStyleConfig;return{"onUpdate:modelValue":c=>o.modelValueOnUpdate(c),modelValue:o.modelValue,lazyRules:s.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:a.fieldOutlined,filled:a.fieldFilled,standout:a.fieldStandout,borderless:a.fieldBorderless,rounded:a.fieldRounded,square:a.fieldSquare,dense:a.fieldDense,hideBottomSpace:a.fieldHideBottomSpace,color:a.fieldColor,bgColor:a.fieldBgColor,class:o.field.cssClass}}return(o,r)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:s})=>[e.createVNode(e.unref(i.QInput),e.normalizeProps(e.guardReactiveProps(n(s))),null,16)]),_:1},8,["field"]))}}),ge=e.defineComponent({__name:"TextField",props:{field:{}},setup(l){const t=l;function n(o){const r=o.injectForm.getFormFactory(),s=r.formSettings,a=r.formStyleConfig;return{"onUpdate:modelValue":c=>o.modelValueOnUpdate(c),modelValue:o.modelValue,lazyRules:s.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:a.fieldOutlined,filled:a.fieldFilled,standout:a.fieldStandout,borderless:a.fieldBorderless,rounded:a.fieldRounded,square:a.fieldSquare,dense:a.fieldDense,hideBottomSpace:a.fieldHideBottomSpace,color:a.fieldColor,bgColor:a.fieldBgColor,class:o.field.cssClass}}return(o,r)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:s})=>[e.createVNode(e.unref(i.QInput),e.mergeProps(n(s),{type:"textarea"}),null,16)]),_:1},8,["field"]))}}),he={class:"row items-center justify-end"},be=e.defineComponent({__name:"DateField",props:{field:{}},setup(l){const t=l,n=e.ref();function o(c){const m=c.injectForm.getFormFactory(),g=m.formSettings,d=m.formStyleConfig;return{modelValue:c.modelValue,lazyRules:g.rulesBehaviour==="lazy",clearable:c.field.clearable,rules:c.getComputedRules(),onClear:c.clear,label:c.field.label,hint:c.field.hint,outlined:d.fieldOutlined,filled:d.fieldFilled,standout:d.fieldStandout,borderless:d.fieldBorderless,rounded:d.fieldRounded,square:d.fieldSquare,dense:d.fieldDense,hideBottomSpace:d.fieldHideBottomSpace,color:d.fieldColor,bgColor:d.fieldBgColor,class:c.field.cssClass}}function r(c){return{size:"sm",color:"primary",name:"event",class:"cursor-pointer"}}function s(c){return{modelValue:c.modelValue,mask:c.injectForm.getFormFactory().formSettings.dateFormat}}function a(){n.value&&n.value.hide()}return(c,m)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:g})=>[e.createVNode(e.unref(i.QInput),e.normalizeProps(e.guardReactiveProps(o(g))),{append:e.withCtx(()=>[e.createVNode(e.unref(i.QIcon),e.normalizeProps(e.guardReactiveProps(r())),{default:e.withCtx(()=>[e.createVNode(e.unref(i.QPopupProxy),{ref_key:"popupProxyRef",ref:n,cover:"","transition-show":"scale","transition-hide":"scale"},{default:e.withCtx(()=>[e.createVNode(e.unref(i.QDate),e.normalizeProps(e.guardReactiveProps(s(g))),{default:e.withCtx(()=>[e.createElementVNode("div",he,[e.createVNode(e.unref(i.QBtn),{onClick:a,label:"Fermer",color:"secondary",flat:"","no-caps":""})])]),_:2},1040)]),_:2},1536)]),_:2},1040)]),_:2},1040)]),_:1},8,["field"]))}}),Ce=e.defineComponent({__name:"CheckboxField",props:{field:{}},setup(l){const t=l;function n(o){const r=o.injectForm.getFormFactory().formStyleConfig;return{modelValue:o.modelValue,label:o.field.label,dense:r.fieldDense,color:r.fieldColor,class:o.field.cssClass}}return(o,r)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:s})=>[e.createVNode(e.unref(i.QCheckbox),e.normalizeProps(e.guardReactiveProps(n(s))),null,16)]),_:1},8,["field"]))}}),_e={class:"flex row items-center"},Se={class:"text-body1 text-weight-medium"},pe={class:"flex column q-gutter-sm"},ye=e.defineComponent({__name:"DefaultSectionComponent",props:{section:{}},setup(l){const t=l;return(n,o)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["flex column",t.section.cssClass])},[e.createElementVNode("div",_e,[t.section.icon?(e.openBlock(),e.createBlock(e.unref(i.QIcon),{key:0,name:t.section.icon,size:"sm"},null,8,["name"])):e.createCommentVNode("",!0),e.createElementVNode("div",Se,e.toDisplayString(t.section.label),1)]),e.createElementVNode("div",pe,[e.renderSlot(n.$slots,"default")])],2))}}),Be={class:"flex row items-center no-wrap"},ke=e.defineComponent({__name:"DefaultActionComponent",props:{isLoadingSubmit:{type:Boolean},reset:{type:Function},clear:{type:Function},submit:{type:Function}},setup(l){const t=l;return(n,o)=>(e.openBlock(),e.createElementBlock("div",Be,[e.createVNode(e.unref(i.QBtn),{label:"Enregistrer",loading:t.isLoadingSubmit,onClick:t.submit},null,8,["loading","onClick"]),t.reset?(e.openBlock(),e.createBlock(e.unref(i.QBtn),{key:0,loading:t.isLoadingSubmit,label:"Réinitialiser",onClick:t.reset},null,8,["loading","onClick"])):e.createCommentVNode("",!0),t.clear?(e.openBlock(),e.createBlock(e.unref(i.QBtn),{key:1,loading:t.isLoadingSubmit,label:"Vider",onClick:t.clear},null,8,["loading","onClick"])):e.createCommentVNode("",!0)]))}}),Fe=e.defineComponent({__name:"NumberField",props:{field:{}},setup(l){const t=l;function n(o){const r=o.injectForm.getFormFactory(),s=r.formSettings,a=r.formStyleConfig;return{modelValue:o.modelValue,lazyRules:s.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:a.fieldOutlined,filled:a.fieldFilled,standout:a.fieldStandout,borderless:a.fieldBorderless,rounded:a.fieldRounded,square:a.fieldSquare,dense:a.fieldDense,hideBottomSpace:a.fieldHideBottomSpace,color:a.fieldColor,bgColor:a.fieldBgColor,class:o.field.cssClass}}return(o,r)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:s})=>[e.createVNode(e.unref(i.QInput),e.mergeProps(n(s),{type:"number"}),null,16)]),_:1},8,["field"]))}}),De=e.defineComponent({__name:"SelectHasManyField",props:{field:{}},setup(l){const t=l;function n(o){const r=o.injectForm.getFormFactory(),s=r.formSettings,a=r.formStyleConfig;return{modelValue:o.modelValue,lazyRules:s.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),multiple:!0,useChips:!0,mapOptions:!0,emitValue:!0,options:[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:a.fieldOutlined,filled:a.fieldFilled,standout:a.fieldStandout,borderless:a.fieldBorderless,rounded:a.fieldRounded,square:a.fieldSquare,dense:a.fieldDense,hideBottomSpace:a.fieldHideBottomSpace,color:a.fieldColor,bgColor:a.fieldBgColor,class:o.field.cssClass}}return(o,r)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:s})=>[e.createVNode(e.unref(i.QSelect),e.normalizeProps(e.guardReactiveProps(n(s))),null,16)]),_:1},8,["field"]))}}),Ne=(l,t)=>{const n=l.__vccOpts||l;for(const[o,r]of t)n[o]=r;return n},Te={};function Ve(l,t){return" TODO json edit ? "}const xe=Ne(Te,[["render",Ve]]),Re=e.defineComponent({__name:"SelectField",props:{field:{}},setup(l){const t=l;function n(o){const r=o.injectForm.getFormFactory(),s=r.formSettings,a=r.formStyleConfig;return{modelValue:o.modelValue,lazyRules:s.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),mapOptions:!0,emitValue:!0,options:o.field.selectOptions||[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:a.fieldOutlined,filled:a.fieldFilled,standout:a.fieldStandout,borderless:a.fieldBorderless,rounded:a.fieldRounded,square:a.fieldSquare,dense:a.fieldDense,hideBottomSpace:a.fieldHideBottomSpace,color:a.fieldColor,bgColor:a.fieldBgColor,class:o.field.cssClass}}return(o,r)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:s})=>[e.createVNode(e.unref(i.QSelect),e.normalizeProps(e.guardReactiveProps(n(s))),null,16)]),_:1},8,["field"]))}}),Oe=e.defineComponent({__name:"SelectBelongsToField",props:{field:{}},setup(l){const t=l;function n(o){const r=o.injectForm.getFormFactory(),s=r.formSettings,a=r.formStyleConfig;return{modelValue:o.modelValue,lazyRules:s.rulesBehaviour==="lazy",clearable:o.field.clearable,rules:o.getComputedRules(),mapOptions:!0,emitValue:!0,options:[],onClear:o.clear,label:o.field.label,hint:o.field.hint,outlined:a.fieldOutlined,filled:a.fieldFilled,standout:a.fieldStandout,borderless:a.fieldBorderless,rounded:a.fieldRounded,square:a.fieldSquare,dense:a.fieldDense,hideBottomSpace:a.fieldHideBottomSpace,color:a.fieldColor,bgColor:a.fieldBgColor,class:o.field.cssClass}}return(o,r)=>(e.openBlock(),e.createBlock(C,{field:t.field},{default:e.withCtx(({propsWrapper:s})=>[e.createVNode(e.unref(i.QSelect),e.normalizeProps(e.guardReactiveProps(n(s))),null,16)]),_:1},8,["field"]))}}),$e=e.defineComponent({__name:"DefaultWrapperResetComponent",props:{reset:{type:Function}},setup(l){const t=l;return(n,o)=>{const r=e.resolveComponent("q-icon");return e.openBlock(),e.createBlock(r,{name:"reset",class:"cursor-pointer",onClick:o[0]||(o[0]=s=>t.reset())})}}});class y{constructor(t,n,o,r,s,a){h(this,"resourceName");h(this,"formSettings");h(this,"formStyleConfig");h(this,"actionComponent");h(this,"sectionComponent");h(this,"wrapperResetComponent");this.resourceName=t,this.formSettings={...y.getDefaultFormSettings(),...p.getGlobalFormSetting(),...n},this.formStyleConfig={...y.getDefaultFormStyleSettings(),...p.getGlobalFormStyleConfig(),...o},this.actionComponent=r??p.getGlobalActionComponent()??y.getDefaultActionComponent(),this.sectionComponent=s??p.getGlobalSectionComponent()??y.getDefaultSectionComponent(),this.wrapperResetComponent=a??p.getGlobalWrapperResetComponent()??y.getDefaultWrapperResetComponent()}static getFieldComponentByFormFieldType(t){return{string:me,text:ge,number:Fe,date:be,selectString:Re,selectBelongsTo:Oe,selectHasMany:De,checkbox:Ce,object:xe}[t]}static getDefaultFormSettings(){return{rulesBehaviour:"lazy",dateFormat:"DD/MM/YYYY",datetimeFormat:"DD/MM/YYYY:HHmm",renderBackendHint:!0}}static getDefaultFormStyleSettings(){return{fieldOutlined:!0,fieldDense:!0,fieldHideBottomSpace:!0,fieldFilled:!1,fieldStandout:!1,fieldBorderless:!1,fieldRounded:!1,fieldSquare:!1,fieldClass:"",fieldColor:"primary",fieldBgColor:"white"}}static getDefaultActionComponent(){return ke}static getDefaultSectionComponent(){return ye}static getDefaultWrapperResetComponent(){return $e}getAllField(t){const n=[];return t.form.sections.forEach(r=>{const s=[];r.fields.forEach(c=>{const m=y.getFieldComponentByFormFieldType(c.form_field_type),g={type:c.form_field_type,metadata:c,label:c.form_label,hint:c.form_hint,cssClass:c.form_css_class,selectOptions:c.form_select_options,rules:c.form_rules,clearable:c.clearable,resetable:c.resetable,component:m};s.push(g)});const a={label:r.label,fields:s};n.push(a)}),{sections:n,resetable:t.form.resetable,clearable:t.form.clearable,hasGlobalCustomValidation:t.form.has_global_custom_validation??!1}}}const we={key:0,class:"flex column q-pa-sm q-gutter-sm"},Ee=e.defineComponent({__name:"Submit64Form",props:{resourceName:{},resourceId:{},getMetadataAndData:{},submitForm:{},globalFormSettings:{},context:{}},setup(l,{expose:t}){const n=l;let o=null;const r=Object.freeze(new y(n.resourceName,n.globalFormSettings)),s=e.ref({}),a=e.ref(),c=e.ref(!1),m=e.ref(!1);async function g(){o=await n.getMetadataAndData({resourceName:n.resourceName,resourceId:n.resourceId,context:n.context}),a.value=Object.freeze(r.getAllField(o)),c.value=!0}async function d(){m.value=!0;const u={};Object.entries(s.value).forEach(S=>{u[S[0]]=S[1].getValue()});const b=await n.submitForm({formData:u});o&&(o.resource_data=b),_(),m.value=!1}function _(){Object.values(s.value).forEach(u=>{u.reset()})}function D(){Object.values(s.value).forEach(u=>{u.clear()})}function N(u,b){s.value[u]=b}function T(u){if(o)return o.resource_data[u]}function V(u){const b=Object.entries(s.value).find(S=>S[0]===u);return b?b[1].getValue():null}function x(){return r}return e.provide($,{registerRef:N,getDefaultDataByFieldName:T,getFieldDataByFieldName:V,getFormFactory:x}),t({}),e.onMounted(async()=>{await g()}),(u,b)=>c.value&&a.value?(e.openBlock(),e.createElementBlock("div",we,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value.sections,(S,R)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).sectionComponent),{key:R,section:S},{default:e.withCtx(()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(S.fields,B=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:B.metadata.field_name},[u.$slots[B.metadata.field_name]?(e.openBlock(),e.createBlock(C,{key:1,field:B},{default:e.withCtx(({propsWrapper:O})=>[e.renderSlot(u.$slots,"default",{propsWrapper:O})]),_:2},1032,["field"])):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(B.component),{key:0,field:B},null,8,["field"]))],64))),128))]),_:2},1032,["section"]))),128)),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(r).actionComponent),{isLoadingSubmit:m.value,submit:d,clear:a.value.clearable?D:void 0,reset:a.value.resetable?_:void 0},null,8,["isLoadingSubmit","clear","reset"])),u.$slots.more_actions?e.renderSlot(u.$slots,"more_actions",{key:0,propsForm:{generatedForm:a.value}}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)}});f.Submit64=p,f.Submit64Form=Ee,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
